(this["webpackJsonpproject-3-frontend"]=this["webpackJsonpproject-3-frontend"]||[]).push([[0],{28:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(23),r=a.n(n),i=(a(28),a(5)),o=a(2),j=a(8),l=a(3),d=a(4),b=a.n(d),u=a(11),m=a.n(u),p="token";function h(){return window.localStorage.getItem(p)}var O="https://ondeed.herokuapp.com/api";function x(){return m.a.get("".concat(O,"/jobs/"))}function v(e){return m.a.get("".concat(O,"/jobs/").concat(e))}function f(e){return m.a.post("".concat(O,"/register/"),e)}function N(e){return m.a.post("".concat(O,"/login/"),e)}var g=a(0);var w=function(){return Object(g.jsx)("section",{className:"section",children:Object(g.jsx)("div",{className:"container has-text-centered",children:Object(g.jsx)("h2",{className:"title",children:"Oh no, something went wrong \u2639\ufe0f"})})})};var y=function(){return Object(g.jsx)("div",{children:Object(g.jsx)("p",{children:"Loading..."})})};var C=function(e){var t=e.position,a=e.company,s=e.location,c=e.salary,n=e.jobId;return Object(g.jsx)("div",{className:"card",children:Object(g.jsxs)(i.b,{to:"/jobs/".concat(n),children:[Object(g.jsx)("p",{className:"card-header",children:t}),Object(g.jsxs)("p",{className:"card-body",children:[a,Object(g.jsx)("br",{}),s]}),Object(g.jsxs)("p",{className:"card-salary",children:["\xa3",c]})]})})};var S=function(){var e=c.a.useState([]),t=Object(l.a)(e,2),a=t[0],s=t[1],n=c.a.useState(!1),r=Object(l.a)(n,2),i=r[0],d=r[1],u=!a&&!i;return Object(o.e)(),c.a.useEffect((function(){var e=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsx)("section",{className:"home-page",children:Object(g.jsxs)("div",{children:[i&&Object(g.jsx)(w,{}),u&&Object(g.jsx)(y,{}),a&&a.map((function(e){return Object(g.jsx)(C,{position:e.position,company:e.company,location:e.location,salary:e.salary,date_posted:e.date_posted,jobId:e.id},e.id)}))]})})};var k=function(){var e=c.a.useState(""),t=Object(l.a)(e,2),a=t[0],s=t[1],n=function(e){s(e.target.value)};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("nav",{children:Object(g.jsxs)("div",{className:"primary-nav",children:[Object(g.jsx)("div",{children:Object(g.jsx)(i.b,{to:"/",children:Object(g.jsx)("img",{src:"https://i.imgur.com/n5pqkHS.png",alt:"logo",id:"logo"})})}),Object(g.jsx)(i.b,{to:"/jobs",className:"nav",children:"Find Jobs"}),Object(g.jsx)("div",{className:"nav",children:"Company Reviews"}),Object(g.jsx)("div",{className:"nav",children:"Explore Salaries"}),Object(g.jsx)("div",{className:"nav",children:"Upload CV"}),Object(g.jsx)(i.b,{to:"/login",children:"Sign in"}),Object(g.jsx)("div",{className:"nav",children:"Employers/Post Job"})]})}),Object(g.jsxs)("div",{className:"search-box",children:["What",Object(g.jsx)("input",{placeholder:"Job Title or Company",type:"text",id:"input-search",onChange:n,value:a})]}),Object(g.jsxs)("div",{className:"search-box-right",children:["Where",Object(g.jsx)("input",{placeholder:"Location, Postcode",type:"text",id:"input-search",onChange:n,value:a})]}),Object(g.jsx)("button",{className:"search-button",children:"Find Jobs"})]})};var F=function(){var e=c.a.useState([]),t=Object(l.a)(e,2),a=t[0],s=t[1],n=c.a.useState(!1),r=Object(l.a)(n,1)[0],i=!a&&!r;return c.a.useEffect((function(){var e=function(){var e=Object(j.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:t=e.sent,a=t.data,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsxs)("div",{className:"home-page",children:[r&&Object(g.jsx)(w,{}),i&&Object(g.jsx)(y,{}),a&&a.map((function(e){return Object(g.jsx)(C,{position:e.position,company:e.company,location:e.location,salary:e.salary,date_posted:e.date_posted,jobId:e.id},e.id)}))]})},E=a(9);var I=function(e){var t=e.setJob,a=c.a.useState({name:"",contact_email:"",created_at:"",job:"",owner:""}),s=Object(l.a)(a,2),n=s[0],r=s[1],i=c.a.useState(),d=Object(l.a)(i,2),u=d[0],p=d[1],O=Object(o.g)().jobId;u&&p(!1);var x=function(){var e=Object(j.a)(b.a.mark((function e(a){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,m.a.post("/api/jobs/".concat(O,"/applications/"),n,{headers:{Authorization:"Bearer ".concat(h())}});case 4:s=e.sent,t(s.data),r({text:""}),console.log(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("section",{children:Object(g.jsx)("div",{className:"show-card",children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"form-field",children:[Object(g.jsx)("label",{htmlFor:"username",children:"Username"}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"input",name:"username",id:"username",placeholder:"username",onChange:function(e){r(Object(E.a)(Object(E.a)({},n),{},{text:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"form-field",children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"input",type:"password",name:"password",id:"password",placeholder:"password",onChange:x})})]}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"button-div",htmlFor:"button",children:Object(g.jsx)("button",{id:"button",className:"button",type:"submit",children:"Submit Details"})})})]})})})};var P=function(){var e=Object(o.g)().jobId,t=c.a.useState([]),a=Object(l.a)(t,2),s=a[0],n=a[1];return c.a.useEffect((function(){var t=function(){var t=Object(j.a)(b.a.mark((function t(){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:a=t.sent,s=a.data,n(s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),console.log(s),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"show-card",children:[Object(g.jsx)("h2",{className:"card-header",children:"Job Show Page"})," ",Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"card-header",children:s.position}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:"card-body",children:[s.company,Object(g.jsx)("br",{}),s.company_image,Object(g.jsx)("br",{}),s.location,Object(g.jsx)("br",{}),"\xa3",s.salary,Object(g.jsx)("br",{}),s.reference_number,Object(g.jsx)("br",{}),s.description,Object(g.jsx)("br",{}),s.date_posted,Object(g.jsx)("br",{})]})]}),Object(g.jsxs)("div",{className:"applications",children:[Object(g.jsx)("h3",{children:"Apply Now!"}),Object(g.jsx)(I,{name:name,contact_email:n})]})]})},_=a(10),J={username:"",email:"",password:"",passwordConfirmation:""};var D=function(){var e=c.a.useState(J),t=Object(l.a)(e,2),a=t[0],s=t[1],n=c.a.useState(J),r=Object(l.a)(n,2),d=r[0],u=r[1],m=Object(o.f)(),p=function(e){s(Object(E.a)(Object(E.a)({},a),{},Object(_.a)({},e.target.name,e.target.value))),u(Object(E.a)(Object(E.a)({},d),{},Object(_.a)({},e.target.name,"")))},h=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f(a);case 4:m("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),u(e.t0.response.data.errors);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return console.log("formErrors",d),Object(g.jsx)("section",{children:Object(g.jsxs)("div",{className:"form-page",children:[Object(g.jsx)("div",{className:"form-left"}),Object(g.jsx)("div",{className:"form-right",children:Object(g.jsxs)("form",{className:"form",onSubmit:h,children:[Object(g.jsxs)("div",{className:"form-field",children:[Object(g.jsx)("label",{htmlFor:"username",children:"Username"}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"input",name:"username",id:"username",placeholder:"username",onChange:p})}),d.username&&Object(g.jsx)("p",{className:"error-style",children:"Username is a required field"})]}),Object(g.jsxs)("div",{className:"form-field",children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"input",name:"email",id:"email",placeholder:"email",onChange:p})}),d.email&&Object(g.jsx)("p",{className:"error-style",children:"Email is a required field"})]}),Object(g.jsxs)("div",{className:"form-field",children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"input",type:"password",name:"password",id:"password",placeholder:"password",onChange:p})}),d.password&&Object(g.jsx)("p",{className:"error-style",children:"Password is a required field"})]}),Object(g.jsxs)("div",{className:"form-field",children:[Object(g.jsx)("label",{htmlFor:"passwordConfirmation",children:"Password Confirmation"}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"input",type:"password",name:"passwordConfirmation",id:"passwordConfirmation",placeholder:"password confirmation",onChange:p})}),d.passwordConfirmation&&Object(g.jsx)("p",{className:"error-style",children:"Passwords do not match"})]}),Object(g.jsxs)("div",{className:"FIELD",children:[Object(g.jsx)("div",{className:"button-div",htmlFor:"button",children:Object(g.jsx)("button",{id:"button",className:"button",type:"submit",children:"Register Me!"})}),Object(g.jsx)("div",{className:"opposite-text",children:Object(g.jsxs)("p",{children:["Already a member?  ",Object(g.jsx)(i.b,{to:"/login",children:"Click here"})]})})]})]})})]})})};var q=function(){var e=c.a.useState({username:"",password:""}),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(o.f)(),r=c.a.useState(!1),d=Object(l.a)(r,2),u=d[0],m=d[1],h=function(e){s(Object(E.a)(Object(E.a)({},a),{},Object(_.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(j.a)(b.a.mark((function e(t){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N(a);case 4:s=e.sent,c=s.data.token,window.localStorage.setItem(p,c),n("/jobs"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m(!0);case 12:case"end":return e.stop()}var c}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return console.log("FROM",a),Object(g.jsx)("section",{children:Object(g.jsxs)("div",{className:"form-page",children:[Object(g.jsx)("div",{className:"form-left"}),Object(g.jsx)("div",{className:"form-right",children:Object(g.jsxs)("form",{className:"form",onSubmit:O,children:[Object(g.jsxs)("div",{className:"form-field",children:[Object(g.jsx)("label",{htmlFor:"username",children:"username"}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"input",name:"username",id:"username",placeholder:"username",onChange:h})})]}),Object(g.jsxs)("div",{className:"form-field",children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"input",type:"password",name:"password",id:"password",placeholder:"password",onChange:h})})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"button-div",htmlFor:"button",children:Object(g.jsx)("button",{id:"button",className:"button",type:"submit",children:"Log Me In!"})}),u&&Object(g.jsx)("p",{className:"error-style",children:"Email or Password were incorrect. Please try again."}),Object(g.jsx)("div",{className:"opposite-text",children:Object(g.jsxs)("p",{children:["Not a member?  ",Object(g.jsx)(i.b,{to:"/register",children:"Click here"})]})})]})]})})]})})};var L=function(){return Object(g.jsxs)(i.a,{children:[Object(g.jsx)(k,{}),Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{exact:!0,path:"/",element:Object(g.jsx)(S,{})}),Object(g.jsx)(o.a,{path:"/register",element:Object(g.jsx)(D,{})}),Object(g.jsx)(o.a,{path:"/login",element:Object(g.jsx)(q,{})}),Object(g.jsx)(o.a,{path:"/jobs",element:Object(g.jsx)(F,{})}),Object(g.jsx)(o.a,{path:"/jobs/:jobId",element:Object(g.jsx)(P,{})})]})]})};r.a.render(Object(g.jsx)(L,{}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.8f91a628.chunk.js.map